(function(d,c,a,f){var b="button",e={theme:"default",beforeAction:d.noop(),action:d.noop(),clicked:d.noop(),ifNotAction:d.noop(),beforeUnset:d.noop(),ifNotUnsetted:d.noop(),ifUnsettedOrNot:d.noop(),unsetted:d.noop()};Button=function(g,h){this.element=g;this.name=b;this.state="unactive";this.options=d.extend({},this.options,e,h);this._setOptions(this.options);if(typeof d.button==="undefined"){d.button=[]}if(this.element!=="undefined"){d.button.push(this.element)}this.init()};Button.prototype=new d.kit();Button.prototype.constructor=Button;Button.prototype.__setOption=function(h,g){var j=this,i=d(j.element);switch(h){case"theme":i.addClass("-"+g+"-");break;case"enabled":g===true?i.removeClass("-disabled-"):i.addClass("-disabled-");break}j.options[h]=g};Button.prototype.init=function(){var g=this;d(g.element).on("click."+g.name,function(h){g._toggle(g.element);h.preventDefault()})};Button.prototype._toggle=function(g){var i=this,h=d(i.element);if(g===i.element){if(i.state==="unactive"){i.action()}else{if(i.state==="active"){i.unset()}}}};Button.prototype.action=function(){var i=this,h=d(i.element);if(i.options.enabled===true&&i.state!=="loading"){i.state="loading";if(i.options.beforeAction!=="undefined"&&(typeof i.options.beforeAction==="object"||typeof i.options.beforeAction==="function")){try{var g=i.options.beforeAction.call(h);g.done(function(){i._action()}).fail(function(){i.state="unactive";h.trigger("ifNotAction."+i.name);h.trigger("clicked."+i.name)})}catch(j){i._action()}}else{i._action()}}};Button.prototype._action=function(){var h=this;var g=d(h.element);if(h.state==="loading"){if(g.data("radio")){var i=g.data("radio");d.each(h._getOtherInstanses(d.button),function(){var k=d.data(this,"kit-"+h.name),j=d(k.element);if(k.element!==h.element&&j.data("radio")&&j.data("radio")===i&&k.getState()==="active"){k.unset()}})}h.state="active";g.trigger("action."+h.name)}g.trigger("clicked."+h.name)};Button.prototype.unset=function(){var i=this;var h=d(i.element);if(i.options.enabled===true&&i.state!=="unset"){if(i.options.beforeUnset!="undefined"&&(typeof i.options.beforeUnset==="object"||typeof i.options.beforeUnset==="function")){try{var g=i.options.beforeUnset.call(h);g.done(function(){i._unset()}).fail(function(){h.trigger("ifNotUnsetted."+i.name);h.trigger("ifUnsettedOrNot."+i.name);i.state="active"})}catch(j){i._unset()}}else{i._unset()}}};Button.prototype._unset=function(){var h=this;var g=d(h.element);if(h.state==="active"){h.state="unactive";g.trigger("unsetted")}g.trigger("ifUnsettedOrNot."+h.name)};d.fn[b]=function(g){return this.each(function(){if(!d.data(this,"kit-"+b)){d.data(this,"kit-"+b,new Button(this,g))}else{typeof g==="object"?d.data(this,"kit-"+b)._setOptions(g):typeof g==="string"&&g.charAt(0)!=="_"?d.data(this,"kit-"+b)[g]:d.error("What do you want to do?")}})}})(jQuery,window,document);