(function(d,c,a,f){var b="tabs",e={itemsSelector:f,itemsData:f,dataTarget:"tabs-target",trigger:"click",beforeOpen:d.noop(),open:d.noop(),ifOpenedOrNot:d.noop(),ifNotOpened:d.noop(),beforeClose:d.noop(),close:d.noop(),ifClosedOrNot:d.noop(),ifNotClosed:d.noop()};Tabs=function(g,h){this.element=g;this.name=b;this.state="closed";this.options=d.extend({},this.options,e,h);this.items=[];this._setOptions(this.options);this.init()};Tabs.prototype=new d.kit();Tabs.prototype.constructor=Tabs;Tabs.prototype.__setOption=function(h,g){var j=this;var i=d(j.element);switch(h){case"itemsSelector","itemsData","trigger":j._setEvents();break}j.options[h]=g};Tabs.prototype._getItems=function(){var h=this,g=d(h.element),i=[];h.options.itemsSelector!==f?g.find(h.options.itemsSelector).each(function(k,j){i.push(d(j))}):g.find('[data-tabs="'+h.options.itemsData+'"]').each(function(k,j){i.push(d(j))});return i};Tabs.prototype._getItem=function(h){var j=this,i=d(j.element),k=f,g;g=d(h.target);if(g.closest(j.options.itemsSelector).length>0){k=d(g.closest(j.options.itemsSelector))}if(g.closest('[data-tabs="'+j.options.itemsData+'"]').length>0){k=d(g.closest('[data-tabs="'+j.options.itemsData+'"]').get(0))}if(g.hasClass(j.options.itemsSelector)){k=d(g)}return k};Tabs.prototype._unsetEvents=function(){var h=this;var g=d(h.element);g.off("."+h.name);return h};Tabs.prototype._setEvents=function(){var j=this,i=d(j.element),h,g;j._unsetEvents();switch(j.options.trigger){case"hover":h="mouseenter."+j.name;break;case"click":h="click."+j.name;break}i.on(h,function(k){var l=j._getItem(k);if(l&&!j._isOpen(l)){j.open(l)}})};Tabs.prototype.init=function(){var h=this;var g=d(h.element)};Tabs.prototype.open=function(g){var j=this;var i=d(j.element);if(j.options.enabled===true){try{var h=j.options.beforeOpen.call(g);h.done(function(){j._open(g)}).fail(function(){j.state="closed";i.trigger("ifNotOpened."+j.name);i.trigger("ifOpenedOrNot."+j.name)})}catch(k){j._open(g)}}};Tabs.prototype._open=function(g){var j=this,i=d(j.element),h=d(a).find(g.data(j.options.dataTarget));if(j.options.dataTarget){if(g.data("tabs-data")!==f){try{d.get(g.data("tabs-data")).done(function(m,l,n){if(j.close()){h.html(n.responseText);j._openAnimation(g,h);i.trigger("ifOpenedOrNot."+j.name)}}).fail(function(l){i.trigger("ifNotOpened."+j.name);i.trigger("ifOpenedOrNot."+j.name)})}catch(k){i.trigger("ifNotOpened."+j.name);i.trigger("ifOpenedOrNot."+j.name)}}else{if(j.close()){j._openAnimation(g,h)}}}};Tabs.prototype._openAnimation=function(g,j){var i=this,h=d(i.element);g.addClass("_active_");if(i.options.animation){j.fadeIn()}else{j.show()}};Tabs.prototype.close=function(){var h=this;var g=d(h.element);d.each(h._getItems(),function(j,i){if(h._isOpen(i)){d(a).find(i.data(h.options.dataTarget)).hide();i.removeClass("_active_")}});return true};Tabs.prototype._isOpen=function(g){var i=this;var h=d(i.element);return g.hasClass("_active_")};d.fn[b]=function(g){return this.each(function(){if(!d.data(this,"kit-"+b)){d.data(this,"kit-"+b,new Tabs(this,g))}else{typeof g==="object"?d.data(this,"kit-"+b)._setOptions(g):typeof g==="string"&&g.charAt(0)!=="_"?d.data(this,"kit-"+b)[g]:d.error("What do you want to do?")}})}})(jQuery,window,document);